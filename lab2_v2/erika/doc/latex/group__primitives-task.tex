\hypertarget{group__primitives-task}{}\doxysection{Task Primitives}
\label{group__primitives-task}\index{Task Primitives@{Task Primitives}}


The Task Primitives are related to the start and stop of Tasks.  


\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group__primitives-task_ga4e7c7014b29fafc9f04982c4b97512c5}{I\+N\+V\+A\+L\+I\+D\+\_\+\+T\+A\+SK}}~((\mbox{\hyperlink{group__primitives-task_ga9733da8629f4d0984967785419b15d4a}{Task\+Type}})-\/1)
\begin{DoxyCompactList}\small\item\em This is the invalid task value. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__primitives-task_ga6ec57cab346cf26d69aa233e351607ef}{O\+S\+E\+E\+\_\+\+I\+S\+R2\+\_\+\+P\+R\+I\+O\+\_\+\+B\+IT}}~( (\mbox{\hyperlink{group__primitives-task_ga2fbf8607316afe2fe7d402a8f6e00008}{Task\+Prio}})1U $<$$<$ ( (sizeof(\mbox{\hyperlink{group__primitives-task_ga2fbf8607316afe2fe7d402a8f6e00008}{Task\+Prio}})$\ast$((size\+\_\+t)C\+H\+A\+R\+\_\+\+B\+IT)) -\/ ((size\+\_\+t)1U) ) )
\begin{DoxyCompactList}\small\item\em Most significant bit of a priority. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__primitives-task_ga396a5877823a792dc34d5ab99a9d20a8}{O\+S\+E\+E\+\_\+\+I\+S\+R\+\_\+\+A\+L\+L\+\_\+\+P\+R\+IO}}~((\mbox{\hyperlink{group__primitives-task_ga2fbf8607316afe2fe7d402a8f6e00008}{Task\+Prio}})-\/1)
\begin{DoxyCompactList}\small\item\em Bit mask for all priority bits. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__primitives-task_ga14ccd8f4ce95fa715c864835bce984ad}{Declare\+Task}}(Task\+To\+Be\+Declared)~extern \mbox{\hyperlink{ee__compiler_8h_aa8f07207960a32e918e08a0faf697977}{F\+U\+NC}}(void, \mbox{\hyperlink{ee__compiler__cfg_8h_a919da7d9b61966c3af796ab42e618bef}{O\+S\+\_\+\+C\+O\+DE}}) Func\#\#Task\+To\+Be\+Declared ( void )
\begin{DoxyCompactList}\small\item\em Task Declaration. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__primitives-task_gab6f61d38161c8ec10230950d7476f77c}{T\+A\+SK}}(Task\+To\+Be\+Defined)~\mbox{\hyperlink{ee__compiler_8h_aa8f07207960a32e918e08a0faf697977}{F\+U\+NC}}(void, \mbox{\hyperlink{ee__compiler__cfg_8h_a919da7d9b61966c3af796ab42e618bef}{O\+S\+\_\+\+C\+O\+DE}}) Func\#\#Task\+To\+Be\+Defined ( void )
\begin{DoxyCompactList}\small\item\em Task Definition. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{ee__api__types_8h_a9e73ce321dc7375392297601f51e9c72}{O\+S\+E\+E\+\_\+\+T\+A\+S\+K\+\_\+\+I\+D\+\_\+\+T\+Y\+PE}} \mbox{\hyperlink{group__primitives-task_ga9733da8629f4d0984967785419b15d4a}{Task\+Type}}
\begin{DoxyCompactList}\small\item\em Type used for Task I\+Ds. \end{DoxyCompactList}\item 
typedef \mbox{\hyperlink{group__primitives-task_ga9733da8629f4d0984967785419b15d4a}{Task\+Type}} $\ast$ \mbox{\hyperlink{group__primitives-task_ga01fe8c0087d9df2949a2a8a5617f72bf}{Task\+Ref\+Type}}
\begin{DoxyCompactList}\small\item\em This is a pointer to a Task\+Type. \end{DoxyCompactList}\item 
typedef \mbox{\hyperlink{ee__api__types_8h_aaaef40f9b276933d5afbfb578db8d124}{O\+S\+E\+E\+\_\+\+T\+A\+S\+K\+\_\+\+P\+R\+I\+O\+\_\+\+T\+Y\+PE}} \mbox{\hyperlink{group__primitives-task_ga2fbf8607316afe2fe7d402a8f6e00008}{Task\+Prio}}
\begin{DoxyCompactList}\small\item\em Type storing task priorities. \end{DoxyCompactList}\item 
typedef \mbox{\hyperlink{ee__api__types_8h_a1abc43b358b88d0f5adcb1bc0b70f5df}{Os\+E\+E\+\_\+task\+\_\+status}} \mbox{\hyperlink{group__primitives-task_ga7d48c2f208a17a0fa4faed331e0586f0}{Task\+State\+Type}}
\begin{DoxyCompactList}\small\item\em Task state type. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{ee__api__types_8h_a79bf54a17078edb124b553c51129396a}{Status\+Type}} \mbox{\hyperlink{group__primitives-task_ga9d7cac8cf0b035942325538ba01ba7c6}{Activate\+Task}} (\mbox{\hyperlink{group__primitives-task_ga9733da8629f4d0984967785419b15d4a}{Task\+Type}} Task\+ID)
\begin{DoxyCompactList}\small\item\em This primitive activates a task Task\+ID. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ee__api__types_8h_a79bf54a17078edb124b553c51129396a}{Status\+Type}} \mbox{\hyperlink{group__primitives-task_ga89ce30708e79048336a17c62bb47e1c7}{Chain\+Task}} (\mbox{\hyperlink{group__primitives-task_ga9733da8629f4d0984967785419b15d4a}{Task\+Type}} Task\+ID)
\begin{DoxyCompactList}\small\item\em Terminates the calling task, and atomically activates the Task\+ID passed as parameter. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ee__api__types_8h_a79bf54a17078edb124b553c51129396a}{Status\+Type}} \mbox{\hyperlink{group__primitives-task_ga83c21cbaa47c5ac5cd56b7ba6490b8ca}{Terminate\+Task}} (void)
\begin{DoxyCompactList}\small\item\em Terminates the calling task. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ee__api__types_8h_a79bf54a17078edb124b553c51129396a}{Status\+Type}} \mbox{\hyperlink{group__primitives-task_ga6b5f9ab90c9fc8697f14e5741167ef4f}{Get\+Task\+ID}} (\mbox{\hyperlink{group__primitives-task_ga01fe8c0087d9df2949a2a8a5617f72bf}{Task\+Ref\+Type}} Task\+ID)
\begin{DoxyCompactList}\small\item\em Returns the Task ID of the running task. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ee__api__types_8h_a79bf54a17078edb124b553c51129396a}{Status\+Type}} \mbox{\hyperlink{group__primitives-task_ga885470501db458f64bb820f1a82593bb}{Get\+Task\+State}} (\mbox{\hyperlink{group__primitives-task_ga9733da8629f4d0984967785419b15d4a}{Task\+Type}} Task\+ID, \mbox{\hyperlink{ee__api__types_8h_a1abc43b358b88d0f5adcb1bc0b70f5df}{Task\+State\+Ref\+Type}} State)
\begin{DoxyCompactList}\small\item\em This primitive returns the state of a given task. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ee__api__types_8h_a79bf54a17078edb124b553c51129396a}{Status\+Type}} \mbox{\hyperlink{group__primitives-task_gab4c3463247a1aa258800f903b0a52a9d}{Schedule}} (void)
\begin{DoxyCompactList}\small\item\em A rescheduling point typically used in non-\/preemptive tasks. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Independently of the task type all kernel primitives that may cause rescheduling may be called in any Tasks\textquotesingle{} sub-\/functions.

Tasks are activated using the primitives \mbox{\hyperlink{group__primitives-task_ga9d7cac8cf0b035942325538ba01ba7c6}{Activate\+Task()}} or \mbox{\hyperlink{group__primitives-task_ga89ce30708e79048336a17c62bb47e1c7}{Chain\+Task()}}. Activating a task means that the activated task, may be selected for scheduling, and may execute one Task Instance. A task activation while a task is already waiting its execution or while being the running task has an effect that depends on how many pending activations the particular Conformance Class can store. B\+C\+C1 and E\+C\+C1 does not store pending activations, whereas B\+C\+C2 and E\+C\+C2 can store pending activations if the task has been properly configured in the O\+IL Configuration file.

Tasks {\itshape must end} with a call either to \mbox{\hyperlink{group__primitives-task_ga83c21cbaa47c5ac5cd56b7ba6490b8ca}{Terminate\+Task()}} or \mbox{\hyperlink{group__primitives-task_ga89ce30708e79048336a17c62bb47e1c7}{Chain\+Task()}}. Terminating a task without one of these two primitives leads to indefinite results. 

\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{group__primitives-task_ga14ccd8f4ce95fa715c864835bce984ad}\label{group__primitives-task_ga14ccd8f4ce95fa715c864835bce984ad}} 
\index{Task Primitives@{Task Primitives}!DeclareTask@{DeclareTask}}
\index{DeclareTask@{DeclareTask}!Task Primitives@{Task Primitives}}
\doxysubsubsection{\texorpdfstring{DeclareTask}{DeclareTask}}
{\footnotesize\ttfamily \#define Declare\+Task(\begin{DoxyParamCaption}\item[{}]{Task\+To\+Be\+Declared }\end{DoxyParamCaption})~extern \mbox{\hyperlink{ee__compiler_8h_aa8f07207960a32e918e08a0faf697977}{F\+U\+NC}}(void, \mbox{\hyperlink{ee__compiler__cfg_8h_a919da7d9b61966c3af796ab42e618bef}{O\+S\+\_\+\+C\+O\+DE}}) Func\#\#Task\+To\+Be\+Declared ( void )}

Declares a task. It is equivalent of an externa declaration of a task function defined with the {\itshape \mbox{\hyperlink{group__primitives-task_gab6f61d38161c8ec10230950d7476f77c}{T\+A\+S\+K()}}} macro.

This declaration is currently not mandatory because task identifiers are all declared within the code generated by R\+T-\/\+Druid.

Reference\+: O\+S\+EK OS -\/ I\+SO 17356-\/3 -\/ 13.\+3.\+2.\+1


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em Task\+To\+Be\+Declared} & The task to be declared. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{group__primitives-task_ga4e7c7014b29fafc9f04982c4b97512c5}\label{group__primitives-task_ga4e7c7014b29fafc9f04982c4b97512c5}} 
\index{Task Primitives@{Task Primitives}!INVALID\_TASK@{INVALID\_TASK}}
\index{INVALID\_TASK@{INVALID\_TASK}!Task Primitives@{Task Primitives}}
\doxysubsubsection{\texorpdfstring{INVALID\_TASK}{INVALID\_TASK}}
{\footnotesize\ttfamily \#define I\+N\+V\+A\+L\+I\+D\+\_\+\+T\+A\+SK~((\mbox{\hyperlink{group__primitives-task_ga9733da8629f4d0984967785419b15d4a}{Task\+Type}})-\/1)}

This is the invalid task value. No task can have this task ID. \mbox{\hyperlink{group__primitives-task_ga6b5f9ab90c9fc8697f14e5741167ef4f}{Get\+Task\+I\+D()}} executed in the background task (or idle hook) always provides I\+N\+V\+A\+L\+I\+D\+\_\+\+T\+A\+SK. \mbox{\Hypertarget{group__primitives-task_ga6ec57cab346cf26d69aa233e351607ef}\label{group__primitives-task_ga6ec57cab346cf26d69aa233e351607ef}} 
\index{Task Primitives@{Task Primitives}!OSEE\_ISR2\_PRIO\_BIT@{OSEE\_ISR2\_PRIO\_BIT}}
\index{OSEE\_ISR2\_PRIO\_BIT@{OSEE\_ISR2\_PRIO\_BIT}!Task Primitives@{Task Primitives}}
\doxysubsubsection{\texorpdfstring{OSEE\_ISR2\_PRIO\_BIT}{OSEE\_ISR2\_PRIO\_BIT}}
{\footnotesize\ttfamily \#define O\+S\+E\+E\+\_\+\+I\+S\+R2\+\_\+\+P\+R\+I\+O\+\_\+\+B\+IT~( (\mbox{\hyperlink{group__primitives-task_ga2fbf8607316afe2fe7d402a8f6e00008}{Task\+Prio}})1U $<$$<$ ( (sizeof(\mbox{\hyperlink{group__primitives-task_ga2fbf8607316afe2fe7d402a8f6e00008}{Task\+Prio}})$\ast$((size\+\_\+t)C\+H\+A\+R\+\_\+\+B\+IT)) -\/ ((size\+\_\+t)1U) ) )}

This is the most significant bit of a priority Note that a priority that has this bit to 1 is a \char`\"{}virtual priority\char`\"{} of an I\+S\+R2. \mbox{\Hypertarget{group__primitives-task_ga396a5877823a792dc34d5ab99a9d20a8}\label{group__primitives-task_ga396a5877823a792dc34d5ab99a9d20a8}} 
\index{Task Primitives@{Task Primitives}!OSEE\_ISR\_ALL\_PRIO@{OSEE\_ISR\_ALL\_PRIO}}
\index{OSEE\_ISR\_ALL\_PRIO@{OSEE\_ISR\_ALL\_PRIO}!Task Primitives@{Task Primitives}}
\doxysubsubsection{\texorpdfstring{OSEE\_ISR\_ALL\_PRIO}{OSEE\_ISR\_ALL\_PRIO}}
{\footnotesize\ttfamily \#define O\+S\+E\+E\+\_\+\+I\+S\+R\+\_\+\+A\+L\+L\+\_\+\+P\+R\+IO~((\mbox{\hyperlink{group__primitives-task_ga2fbf8607316afe2fe7d402a8f6e00008}{Task\+Prio}})-\/1)}

Bit mask for all priority bits. \mbox{\Hypertarget{group__primitives-task_gab6f61d38161c8ec10230950d7476f77c}\label{group__primitives-task_gab6f61d38161c8ec10230950d7476f77c}} 
\index{Task Primitives@{Task Primitives}!TASK@{TASK}}
\index{TASK@{TASK}!Task Primitives@{Task Primitives}}
\doxysubsubsection{\texorpdfstring{TASK}{TASK}}
{\footnotesize\ttfamily \#define T\+A\+SK(\begin{DoxyParamCaption}\item[{}]{Task\+To\+Be\+Defined }\end{DoxyParamCaption})~\mbox{\hyperlink{ee__compiler_8h_aa8f07207960a32e918e08a0faf697977}{F\+U\+NC}}(void, \mbox{\hyperlink{ee__compiler__cfg_8h_a919da7d9b61966c3af796ab42e618bef}{O\+S\+\_\+\+C\+O\+DE}}) Func\#\#Task\+To\+Be\+Defined ( void )}

This macro is used when defining the body of a task.

Reference\+: O\+S\+EK OS -\/ I\+SO 17356-\/3 -\/ 13.\+3.\+5


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em Task\+To\+Be\+Defined} & This is the task keyword used also in the O\+IL file. \\
\hline
\end{DoxyParams}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{group__primitives-task_ga2fbf8607316afe2fe7d402a8f6e00008}\label{group__primitives-task_ga2fbf8607316afe2fe7d402a8f6e00008}} 
\index{Task Primitives@{Task Primitives}!TaskPrio@{TaskPrio}}
\index{TaskPrio@{TaskPrio}!Task Primitives@{Task Primitives}}
\doxysubsubsection{\texorpdfstring{TaskPrio}{TaskPrio}}
{\footnotesize\ttfamily typedef \mbox{\hyperlink{ee__api__types_8h_aaaef40f9b276933d5afbfb578db8d124}{O\+S\+E\+E\+\_\+\+T\+A\+S\+K\+\_\+\+P\+R\+I\+O\+\_\+\+T\+Y\+PE}} \mbox{\hyperlink{group__primitives-task_ga2fbf8607316afe2fe7d402a8f6e00008}{Task\+Prio}}}

This type is used to store the priority of both Tasks and I\+S\+R2s (please remember that I\+S\+R2 are treated like tasks inside E\+R\+I\+K\+A3).

Task\+Prio is an integer number (usually n bits=8).

Higher values for higher priorities.

The same variable maps two types of priorities, in two different value ranges\+:
\begin{DoxyItemize}
\item The task priority
\item The I\+S\+R2 \textquotesingle{}\textquotesingle{}virtual\textquotesingle{}\textquotesingle{} priority.
\end{DoxyItemize}

The I\+S\+R2 virtual priority maps the interrupt controller prioriries on top of the Task priorities. This is done by allocating the two kind of priorities into two non-\/overlapping ranges.

Choosen the dimension \textquotesingle{}n\textquotesingle{} in bit of the type, the priority space is partitioned in the following way\+:


\begin{DoxyItemize}
\item 0 Idle (Task) Priority,
\item 1 .. 2$^\wedge$(n-\/1) -\/ 1 Tasks priorities. (value for n=8, 1..127)
\item 2$^\wedge$(n-\/1) .. 2$^\wedge$n-\/2 I\+S\+R2 virtual priorities (typically the hardware priority range is smaller than the size of this range) (value for n=8, 128..254)
\item 2$^\wedge$n -\/ 1 Special value used to not reenable interrupts (used for internal interrupts when we want prevent preemption, like for system timer or for Scheduling Inter Core Interrupts). (value for n=8, 255)
\end{DoxyItemize}

I\+S\+R2 virtual priorities are mapped to hardware priorities by a H\+AL porting function in the following way\+:

Virtual priority 2$^\wedge$(n-\/1) == lowest\+\_\+hardware priority Virtual priority 2$^\wedge$(n-\/1) + 1 == second\+\_\+lowest\+\_\+harware\+\_\+priority ... and so on. \mbox{\Hypertarget{group__primitives-task_ga01fe8c0087d9df2949a2a8a5617f72bf}\label{group__primitives-task_ga01fe8c0087d9df2949a2a8a5617f72bf}} 
\index{Task Primitives@{Task Primitives}!TaskRefType@{TaskRefType}}
\index{TaskRefType@{TaskRefType}!Task Primitives@{Task Primitives}}
\doxysubsubsection{\texorpdfstring{TaskRefType}{TaskRefType}}
{\footnotesize\ttfamily typedef \mbox{\hyperlink{group__primitives-task_ga9733da8629f4d0984967785419b15d4a}{Task\+Type}}$\ast$ \mbox{\hyperlink{group__primitives-task_ga01fe8c0087d9df2949a2a8a5617f72bf}{Task\+Ref\+Type}}}

This type is a pointer to Task I\+Ds, used as parameter of a primitive. \mbox{\Hypertarget{group__primitives-task_ga7d48c2f208a17a0fa4faed331e0586f0}\label{group__primitives-task_ga7d48c2f208a17a0fa4faed331e0586f0}} 
\index{Task Primitives@{Task Primitives}!TaskStateType@{TaskStateType}}
\index{TaskStateType@{TaskStateType}!Task Primitives@{Task Primitives}}
\doxysubsubsection{\texorpdfstring{TaskStateType}{TaskStateType}}
{\footnotesize\ttfamily typedef \mbox{\hyperlink{ee__api__types_8h_a1abc43b358b88d0f5adcb1bc0b70f5df}{Os\+E\+E\+\_\+task\+\_\+status}} \mbox{\hyperlink{ee__api__types_8h_a1abc43b358b88d0f5adcb1bc0b70f5df}{Task\+State\+Type}}}

This is the Task\+State type, which is used to store the Task states. Task\+State is returned also by \mbox{\hyperlink{group__primitives-task_ga885470501db458f64bb820f1a82593bb}{Get\+Task\+State()}}, with one of the following values\+: S\+U\+S\+P\+E\+N\+D\+ED, R\+E\+A\+DY, R\+U\+N\+N\+I\+NG, W\+A\+I\+T\+I\+NG. The complete list of states are defined in the values of Os\+E\+E\+\_\+task\+\_\+status. \mbox{\Hypertarget{group__primitives-task_ga9733da8629f4d0984967785419b15d4a}\label{group__primitives-task_ga9733da8629f4d0984967785419b15d4a}} 
\index{Task Primitives@{Task Primitives}!TaskType@{TaskType}}
\index{TaskType@{TaskType}!Task Primitives@{Task Primitives}}
\doxysubsubsection{\texorpdfstring{TaskType}{TaskType}}
{\footnotesize\ttfamily typedef \mbox{\hyperlink{ee__api__types_8h_a9e73ce321dc7375392297601f51e9c72}{O\+S\+E\+E\+\_\+\+T\+A\+S\+K\+\_\+\+I\+D\+\_\+\+T\+Y\+PE}} \mbox{\hyperlink{group__primitives-task_ga9733da8629f4d0984967785419b15d4a}{Task\+Type}}}

Type used for Task I\+Ds. Typically the size of a word on the microcontroller. It is a positive number (except the invalid task which is -\/1). The Task I\+Ds are consistent and do not change in case of multicore configurations. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{group__primitives-task_ga9d7cac8cf0b035942325538ba01ba7c6}\label{group__primitives-task_ga9d7cac8cf0b035942325538ba01ba7c6}} 
\index{Task Primitives@{Task Primitives}!ActivateTask@{ActivateTask}}
\index{ActivateTask@{ActivateTask}!Task Primitives@{Task Primitives}}
\doxysubsubsection{\texorpdfstring{ActivateTask()}{ActivateTask()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ee__api__types_8h_a79bf54a17078edb124b553c51129396a}{Status\+Type}} Activate\+Task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__primitives-task_ga9733da8629f4d0984967785419b15d4a}{Task\+Type}}}]{Task\+ID }\end{DoxyParamCaption})}

This primitive activates a task Task\+ID, putting it in the R\+E\+A\+DY state, or in the R\+U\+N\+N\+I\+NG state if the scheduler finds that the activated task should become the running task.

Once activated, the task will run for an instance, starting from its first instruction. For the B\+C\+C2 and E\+C\+C2 Conformance classes, pending activations can be stored if the task has been configured with a number of activations greater than 1 within the O\+IL configuration file.

The function can be called from the Background task (typically, the main() function).

Conformance Classes\+: B\+C\+C1, B\+C\+C2, E\+C\+C1, E\+C\+C2

Reference\+: O\+S\+EK OS -\/ I\+SO 17356-\/3 -\/ 13.\+3.\+3.\+1


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em Task\+ID} & Task to be activated.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns a Status\+Type
\begin{DoxyItemize}
\item E\+\_\+\+OK\+: No error.
\item E\+\_\+\+O\+S\+\_\+\+L\+I\+M\+IT\+: Too many pending activations of Task\+ID.
\item E\+\_\+\+O\+S\+\_\+\+ID\+: (Extended) Task\+ID is invalid. 
\end{DoxyItemize}
\end{DoxyReturn}
\mbox{\Hypertarget{group__primitives-task_ga89ce30708e79048336a17c62bb47e1c7}\label{group__primitives-task_ga89ce30708e79048336a17c62bb47e1c7}} 
\index{Task Primitives@{Task Primitives}!ChainTask@{ChainTask}}
\index{ChainTask@{ChainTask}!Task Primitives@{Task Primitives}}
\doxysubsubsection{\texorpdfstring{ChainTask()}{ChainTask()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ee__api__types_8h_a79bf54a17078edb124b553c51129396a}{Status\+Type}} Chain\+Task (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__primitives-task_ga9733da8629f4d0984967785419b15d4a}{Task\+Type}}}]{Task\+ID }\end{DoxyParamCaption})}

This primitive is similar to Terminate\+Task, with the differences listed below.

After the calling task is terminated, Task\+ID is activated again.

If Task\+ID is the calling task ID, then the calling task is terminated, the Internal Resource is unlocked, and then the calling task is put again in the ready queue to be scheduled. The Internal Resource will be locked again when the task will be again selected for scheduling.

When called successfully, Chain\+Task does not return to the caller. In case of error the primitive returns, and the returned error value can be evaluated by the application.

When an extended task is transferred from suspended state into ready state all its events are cleared.

Conformance Classes\+: B\+C\+C1, B\+C\+C2, E\+C\+C1, E\+C\+C2

Reference\+: O\+S\+EK OS -\/ I\+SO 17356-\/3 -\/ 13.\+3.\+3.\+3


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em Task\+ID} & The task to activate\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns a Status\+Type
\begin{DoxyItemize}
\item No return\+: If the call is successful.
\item E\+\_\+\+O\+S\+\_\+\+L\+I\+M\+IT\+: Too many task activations of Task\+ID. The Task activation in this case is ignored.
\item E\+\_\+\+O\+S\+\_\+\+ID\+: (Extended) Task Task\+ID is invalid.
\item E\+\_\+\+O\+S\+\_\+\+R\+E\+S\+O\+U\+R\+CE\+: (Extended) Calling task still occupies resources.
\item E\+\_\+\+O\+S\+\_\+\+C\+A\+L\+L\+E\+V\+EL\+: (Extended) Call at interrupt level. 
\end{DoxyItemize}
\end{DoxyReturn}
\mbox{\Hypertarget{group__primitives-task_ga6b5f9ab90c9fc8697f14e5741167ef4f}\label{group__primitives-task_ga6b5f9ab90c9fc8697f14e5741167ef4f}} 
\index{Task Primitives@{Task Primitives}!GetTaskID@{GetTaskID}}
\index{GetTaskID@{GetTaskID}!Task Primitives@{Task Primitives}}
\doxysubsubsection{\texorpdfstring{GetTaskID()}{GetTaskID()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ee__api__types_8h_a79bf54a17078edb124b553c51129396a}{Status\+Type}} Get\+Task\+ID (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__primitives-task_ga01fe8c0087d9df2949a2a8a5617f72bf}{Task\+Ref\+Type}}}]{Task\+ID }\end{DoxyParamCaption})}

The function returns the Task ID of the running task. If no task is running, I\+N\+V\+A\+L\+I\+D\+\_\+\+T\+A\+SK is returned.

Conformance Classes\+: B\+C\+C1, B\+C\+C2, E\+C\+C1, E\+C\+C2

Reference\+: O\+S\+EK OS -\/ I\+SO 17356-\/3 -\/ 13.\+3.\+3.\+5


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em Task\+ID} & The Task ID of the running task\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function always returns a Status\+Type of value E\+\_\+\+OK. 
\end{DoxyReturn}
\mbox{\Hypertarget{group__primitives-task_ga885470501db458f64bb820f1a82593bb}\label{group__primitives-task_ga885470501db458f64bb820f1a82593bb}} 
\index{Task Primitives@{Task Primitives}!GetTaskState@{GetTaskState}}
\index{GetTaskState@{GetTaskState}!Task Primitives@{Task Primitives}}
\doxysubsubsection{\texorpdfstring{GetTaskState()}{GetTaskState()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ee__api__types_8h_a79bf54a17078edb124b553c51129396a}{Status\+Type}} Get\+Task\+State (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__primitives-task_ga9733da8629f4d0984967785419b15d4a}{Task\+Type}}}]{Task\+ID,  }\item[{\mbox{\hyperlink{ee__api__types_8h_a1abc43b358b88d0f5adcb1bc0b70f5df}{Task\+State\+Ref\+Type}}}]{State }\end{DoxyParamCaption})}

This primitive returns the state of a given task. Possible states are listed in the definition of the Task\+State\+Type.

If the task Task\+ID supports pending activation, and the task has been activated more than once, the results refer to the state of its oldest activation.

Conformance Classes\+: B\+C\+C1, B\+C\+C2, E\+C\+C1, E\+C\+C2

Reference\+: O\+S\+EK OS -\/ I\+SO 17356-\/3 -\/ 13.\+3.\+3.\+6


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em Task\+ID} & The task for which we want to read the state. \\
\hline
\mbox{\texttt{ out}}  & {\em State} & The task state of Task\+ID. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns a Status\+Type.
\begin{DoxyItemize}
\item E\+\_\+\+OK\+: (Extended) No error.
\item E\+\_\+\+O\+S\+\_\+\+ID\+: (Extended) Task Task\+ID is invalid. 
\end{DoxyItemize}
\end{DoxyReturn}
\mbox{\Hypertarget{group__primitives-task_gab4c3463247a1aa258800f903b0a52a9d}\label{group__primitives-task_gab4c3463247a1aa258800f903b0a52a9d}} 
\index{Task Primitives@{Task Primitives}!Schedule@{Schedule}}
\index{Schedule@{Schedule}!Task Primitives@{Task Primitives}}
\doxysubsubsection{\texorpdfstring{Schedule()}{Schedule()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ee__api__types_8h_a79bf54a17078edb124b553c51129396a}{Status\+Type}} Schedule (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

This primitive can be used as a rescheduling point for tasks that have Internal Resources and for non preemptive tasks (Non preemptive tasks can be seen as tasks with an Internal Resource with the highest priority ceiling available assigned.).

When this primitive is called, the task releases its Internal Resource, and checks if there are higher priority tasks that have to preempt (In that case, a preemption is implemented). When the primitive returns, the task will reacquire its internal resource.

The primitive does nothing if the calling task has no internal resource assigned.

Conformance Classes\+: B\+C\+C1, B\+C\+C2, E\+C\+C1, E\+C\+C2

Reference\+: O\+S\+EK OS -\/ I\+SO 17356-\/3 -\/ 13.\+3.\+3.\+4

\begin{DoxyReturn}{Returns}
The function returns a Status\+Type.
\begin{DoxyItemize}
\item E\+\_\+\+OK\+: No error.
\begin{DoxyItemize}
\item E\+\_\+\+O\+S\+\_\+\+C\+A\+L\+L\+E\+V\+EL\+: (Extended) The primitive was called at interrupt level.
\end{DoxyItemize}
\item E\+\_\+\+O\+S\+\_\+\+R\+E\+S\+O\+U\+R\+CE\+: (Extended) The calling task occupies resources. 
\end{DoxyItemize}
\end{DoxyReturn}
\mbox{\Hypertarget{group__primitives-task_ga83c21cbaa47c5ac5cd56b7ba6490b8ca}\label{group__primitives-task_ga83c21cbaa47c5ac5cd56b7ba6490b8ca}} 
\index{Task Primitives@{Task Primitives}!TerminateTask@{TerminateTask}}
\index{TerminateTask@{TerminateTask}!Task Primitives@{Task Primitives}}
\doxysubsubsection{\texorpdfstring{TerminateTask()}{TerminateTask()}}
{\footnotesize\ttfamily \mbox{\hyperlink{ee__api__types_8h_a79bf54a17078edb124b553c51129396a}{Status\+Type}} Terminate\+Task (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

This primitive terminates the calling task. The function can be called from any function nesting\+: the stack space used by the task is also freed. The calling task should not have any Resource locked when this primitive is called (apart an Internal Resource that is automatically released with this call).

After the call, the calling task is set in the S\+U\+S\+P\+E\+N\+D\+ED state, and it can be reactivated again using Activate\+Task, Chain\+Task, or using Alarm notifications.

All the tasks must terminate with a call to Terminate\+Task or Chain\+Task. If not present, Terminate\+Task will be called automatically.

With Standard Status, the primitive never returns. With Extended Status, the primitive may return in case of errors.

Conformance Classes\+: B\+C\+C1, B\+C\+C2, E\+C\+C1, E\+C\+C2

Reference\+: O\+S\+EK OS -\/ I\+SO 17356-\/3 -\/ 13.\+3.\+3.\+2

\begin{DoxyReturn}{Returns}
The function returns a Status\+Type
\begin{DoxyItemize}
\item No return\+: If the call is successful.
\item E\+\_\+\+O\+S\+\_\+\+R\+E\+S\+O\+U\+R\+CE\+: (Extended) The task still occupies resources.
\item E\+\_\+\+O\+S\+\_\+\+C\+A\+L\+L\+E\+V\+EL\+: (Extended) The function was called at interrupt level. 
\end{DoxyItemize}
\end{DoxyReturn}
